[build]
rustflags = "-Z location-detail=none"

[unstable]
build-std = ["std", "core", "alloc", "panic_unwind"]
build-std-features = ["panic-unwind"]

[target.loongarch64-unknown-linux-gnu]
linker = "loongarch64-linux-gnu-gcc"

[target.aarch64-unknown-linux-gnu]
linker = "aarch64-linux-gnu-gcc"

[target.armv7-unknown-linux-gnueabihf]
linker = "arm-linux-gnueabihf-gcc"

# Based on https://github.com/rust-lang/rust/blob/8a1b39995e5b630c5872f5de5079f1f569bd5ac2/library/compiler-builtins/compiler-builtins/build.rs#L526-L541
[target.'cfg(any(target_os = "android", target_os = "cygwin", target_env = "ohos"))']
rustflags = ["-Clink-args=-lgcc"]
